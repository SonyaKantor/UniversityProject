<!DOCTYPE html>
<html>
    <head>
        <title>Books for all</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="stylesheet" href ="styles.css">  
        <script src ="javascripts.js"> </script>
    </head>
    <header>
        <div> 

            <ul>
                <li><a href="index.html"><img src="images/home-page.png" height="30px" width="30px" alt="Main-page"></a></li>
                <li><a href="Help-page.html"><img src="images/help-sign.png" height = 30px width = 30px alt = "Help"> Help</a> </li>
                <li></li><li></li><li></li><li></li><li></li>
                <li><a href="Log-in.html"><img src="images/log-signup1.png" height = 30px width = 30px alt="Login/Signup">Login/Signup</a></li>
                <li><a href="Cart.html"><img src="images/s-cart.png" height = 30px width = 30px alt = "Cart">Cart</a> </li>        
                <li id = "user" class="user"></li>
                <script src="scripts.js"></script>  

            </ul>
            <div>          

                <form>
                    <img class="logo" src = "images/logo.png" height ="60px" width ="120px"  >                    
                    < <input id="search_v" type="Search" placeholder ="Search for Book title/Author/ISBN">
                    <button class="search" type ="button" id="search">Search</button> 
                                    <script>
                    
                        
                    var b = document.getElementById("search");
                    b.addEventListener("click", search);               
                    function search(){
                     var sear = document.getElementById("search_v").value;   
                                         console.log(sear); 
                     window.localStorage.setItem("sear",JSON.stringify(sear));
                     window.location.href="search_result.html";
//                        doCompletion("search", "search="+sear);
                    }
                </script>  
                </form>
            </div>
        </div>
    </header>
    <body onload = bday()>
        <div class="login">
            <div><h2>Registration:</h2></div>
            <div><p>Please fill the form below: <p></div>
            <p> * -required field <p>
            <form>

                <h5 class= "c-us"><label for="name">Name:*</label><input type="text" id="Name" name="Name" placeholder="Name" ></h5>
                <h5 class= "c-us"><label for="last name">Last name:*</label><input type="text" id="Last Name" name="Last Name" placeholder="Last name" ></h5>
                <h5 class= "c-us"><label for= "birth date">Birth date:*</label>

                    <select id="Day" >
                        <option value = "1"></option>
                    </select>    
                    <select id = "Month">
                        <option value = "1">January</option>
                        <option value = "2">February</option>
                        <option value = "3">March</option>
                        <option value = "4">April</option>
                        <option value = "5">May</option>
                        <option value = "6">June</option>
                        <option value = "7">July</option>
                        <option value = "8">August</option>
                        <option value = "9">September</option>
                        <option value = "10">October</option>
                        <option value = "11">November</option>
                        <option value = "12">December</option>
                    </select>           
                    <select id = "Year">
                        <option value=1900> 1900</option>
                    </select>
                </h5>
                <h5 class="c-us"><label for="email">E-mail address:*</label> <input type="text" id="Email" name="Email" placeholder="E-mail" ></h5><div></div>
                <p>Enter a password. Minimal length of 6 characters</p>
                <h5 class="c-us"><label for="password">Password:*</label> <input type="password" id="password" name="password"  placeholder="Password" ></h5>
                <h5 class="c-us"><label for="password">Confirm password:*</label> <input type="password" id="cpassword" name="password"  placeholder="Password" ></h5>
                <h5 id = "noreg" class="noreg"> </h5>
                <br><h6><a href = "Log-in.html">Already a member? Sign in.</a></h6>
                <div><button class="search" type="button" id = "sign">Sign up</button></div>
            </form>
            <script>
                var b = document.getElementById("sign");
                b.addEventListener("click", reg);
                var wrong = "";
                var done = true;
                function reg() {
                    var name = document.getElementById("Name").value;

                    if (name.length === 0) {
                        wrong += '<p class = "noreg"> Enter your name</p>';
                        console.log(wrong);
                        document.getElementById("noreg").innerHTML = wrong;
                        done = false;
                    } else {
                        done = true;
                    }
                    var lname = document.getElementById("Last Name").value;
                    console.log(lname);
                    if (lname.length === 0) {
                        wrong += '<p class = "noreg">Enter your last name</p>';
                        document.getElementById("noreg").innerHTML = wrong;
                        done = false;
                    } else {
                        done = true;
                    }
                    var day = document.getElementById("Day").value;
                    var month = document.getElementById("Month").value;
                    var year = document.getElementById("Year").value;
                    if ((day == 29 && month == 2 && (year % 4 != 0)) || (day == 30 && month == 2)) {
                        wrong += '<p class = "noreg">Birth date is wrong</p>';
                        document.getElementById("noreg").innerHTML = wrong;
                        done = false;
                    } else if (day == 31 && (month == 2 || month == 4 || month == 6 || month == 9 || month == 11)) {
                        wrong += '<p class = "noreg">Birth date is wrong</p>';
                        document.getElementById("noreg").innerHTML = wrong;
                        done = false;
                    } else{
                        done = true;
                    }
                    var email = document.getElementById("Email").value;
                    if(email.length===0 && email.length<10 && (email.indexOf('@')===-1)){
                        wrong += '<p class = "noreg">Email format is wrong</p>';
                        document.getElementById("noreg").innerHTML = wrong;
                        done = false;
                    }
                    else{
                        done = true;
                    }
                    var pass = document.getElementById("password").value;
                    var cpass = document.getElementById("cpassword").value;
                    if(pass.length<6){
                        wrong += '<p class = "noreg">Password is too short</p>';
                        document.getElementById("noreg").innerHTML = wrong;
                        done = false; 
                    }
                    else if(pass !==cpass){
                        wrong += '<p class = "noreg">Passwords are not match</p>';
                        document.getElementById("noreg").innerHTML = wrong;
                        done = false;  
                    }
                    else{
                        done = true;
                    }
                    if(done){
                       var result = doCompletion("reg","name="+name+"&&lname="+lname+"&&day="+day+"&&month="+month+
                               "&&year="+year+"&&email="+email+"&&password="+pass);
                       console.log(result);
//                       if(result ==0){
//                           document.getElementById("noreg").innerHTML = '<p class = "noreg">Email is already registered. </p>\n\
//           <p class = "noreg">Use diiferent one or <a href="Log-in.html">Login here</a></p>'
//                       }
//                       else{
//                       document.getElementById("noreg").innerHTML = '<p class = "noreg">Registraion completed succesfully</p>\n\
//           <p class = "noreg"><a href="Log-in.html">Login here</a></p>';
//            }
                    }
                }


            </script>    
        </div>
    </body>
    <footer class="footer_c">
        <div></div>
        <div>
            <h5>About us </h5>
            <p><a href="Site-map.html"> Site map</a><p>
            <p><a href="Contact-us.html">Contact us</a><p>
            <p><a href="Log-in.html">Login/Signup</a><p>
        </div>
        <div>
            <h5>Need a help?</h5>
        </div>
        <div>
            <h5>Shipping </h5>
        </div>
    </footer>
</html>
